(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{21:function(t,e,n){t.exports=n(30)},30:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n.n(o),c=n(6),i=n(3);var u="SHOW_ALL",a="SHOW_COMPLETED",l="SHOW_ACTIVE",d=function(t){var e=t.active,n=t.children,o=t.onClick;return e?r.a.createElement("span",null,n):r.a.createElement("a",{href:"#somelink",onClick:function(t){t.preventDefault(),o()}},n)},s=Object(i.b)((function(t,e){return{active:e.filter===t.setVisibilityFilter}}),(function(t,e){return{onClick:function(){t({type:"SET_VISIBILITY_FILTER",filter:e.filter})}}}))(d),E=function(){return r.a.createElement("p",null,"Show: ",r.a.createElement(s,{filter:u},"All"),", ",r.a.createElement(s,{filter:l},"Active"),", ",r.a.createElement(s,{filter:a},"Completed"))},f=function(t){return function(e){return e(function(t){return{type:"REQUEST_CREATE_TODO",value:t}}(t)),fetch("http://localhost:4000/create-todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:t})}).then((function(t){return console.log(t),t.json()})).then((function(t){return console.log(t),e({type:"RECEIVE_CREATE_TODO_SUCCESS",todoCreated:t})}))}},O=Object(i.b)()((function(t){var e,n=t.dispatch;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.value.trim()&&(n(f(e.value)),e.value="")}},r.a.createElement("input",{ref:function(t){e=t}}),r.a.createElement("button",{type:"submit"},"Add Todo")))})),p=n(13),h=n(14),T=n(19),m=n(15),S=n(20),b=function(t){var e=t.onClick,n=t.completed,o=t.value;return r.a.createElement("li",{onClick:e,style:{textDecoration:n?"line-through":"none"}},o)},v=function(t){function e(){return Object(p.a)(this,e),Object(T.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(S.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.props.retrieveTodos()}},{key:"render",value:function(){var t=this.props,e=t.todos,n=t.updateTodo;return r.a.createElement("ul",null,e.map((function(t){return r.a.createElement(b,Object.assign({key:t.id},t,{onClick:function(){return n(t.id)}}))})))}}]),e}(r.a.Component),C=function(t,e){switch(e){case"SHOW_ALL":return t;case"SHOW_COMPLETED":return t.filter((function(t){return t.completed}));case"SHOW_ACTIVE":return t.filter((function(t){return!t.completed}));default:return t}},_=Object(i.b)((function(t){return{todos:C(t.todos.todos,t.visibilityFilter)}}),(function(t){return{createTodo:function(e){t(f(e))},retrieveTodos:function(){t((function(t){return t({type:"REQUEST_TODOS"}),fetch("http://localhost:4000/retrieve-todos").then((function(t){return t.json()})).then((function(e){return t({type:"RECEIVE_TODOS",todos:e})}))}))},updateTodo:function(e){t(function(t){return function(e){return e(function(t){return{type:"REQUEST_UPDATE_TODO",id:t}}(t)),fetch("http://localhost:4000/update-todo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(t){return t.json()})).then((function(t){return e(function(t){return{type:"RECEIVE_UPDATE_TODO_SUCCESS",id:t}}(t.id))}))}}(e))}}}))(v),j=function(){return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(_,null),r.a.createElement(E,null))},y=n(4),D=n(16),g=n(17),I=n(18),R=n(2),A={isFetching:!1,todos:[]};var U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REQUEST_CREATE_TODO":return Object(R.a)({},t,{isFetching:!0});case"RECEIVE_CREATE_TODO_SUCCESS":return Object(R.a)({},t,{isFetching:!1,todos:[].concat(Object(I.a)(t.todos),[{id:e.todoCreated.id,value:e.todoCreated.value,completed:e.todoCreated.completed}])});case"REQUEST_TODOS":return Object(R.a)({},t,{isFetching:!0});case"RECEIVE_TODOS":return Object(R.a)({},t,{isFetching:!1,todos:e.todos});case"REQUEST_UPDATE_TODO":return Object(R.a)({},t,{todos:t.todos.map((function(t){return t.id===e.id?Object(R.a)({},t,{isFetching:!0}):t}))});case"RECEIVE_UPDATE_TODO_SUCCESS":return Object(R.a)({},t,{todos:t.todos.map((function(t){return t.id===e.id?Object(R.a)({},t,{isFetching:!1,completed:!t.completed}):t}))});default:return t}},k=u;var F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_VISIBILITY_FILTER":return e.filter;default:return t}},L=Object(y.c)({todos:U,visibilityFilter:F}),V=Object(g.createLogger)(),P=Object(y.d)(L,Object(y.a)(D.a,V));Object(c.render)(r.a.createElement(i.a,{store:P},r.a.createElement(j,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.f433c042.chunk.js.map