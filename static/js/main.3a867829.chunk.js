(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{36:function(e,t,n){e.exports=n(48)},48:function(e,t,n){"use strict";n.r(t);n(37);var r=n(0),o=n.n(r),a=n(11),c=n(8),i=n(50),u=n(51),l=n(52),s=n(49),d=n(54),E=function(e){return function(t){return t(function(e){return{type:"REQUEST_CREATE_TODO",value:e}}(e)),fetch("https://intense-refuge-66191.herokuapp.com/create-todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:e})}).then((function(e){return console.log(e),e.json()})).then((function(e){return console.log(e),t({type:"RECEIVE_CREATE_TODO_SUCCESS",todoCreated:e})}))}},f=Object(c.b)()((function(e){var t,n=e.dispatch;return o.a.createElement("div",null,o.a.createElement(l.a,{onSubmit:function(e){e.preventDefault(),t.value.trim()&&(n(E(t.value)),t.value="")}},o.a.createElement(s.a,null,o.a.createElement("input",{ref:function(e){t=e}}),o.a.createElement(s.a.Append,null,o.a.createElement(d.a,{size:"sm",type:"submit"},"Add Todo")))))})),p=n(21),m=n(22),O=n(33),h=n(24),T=n(34),S=n(53),v=function(e){var t=e.onClick,n=e.completed,r=e.value;return o.a.createElement(S.a.Item,{className:"small",onClick:t,style:{textDecoration:n?"line-through":"none"}},r)},C=function(e){function t(){return Object(p.a)(this,t),Object(O.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.retrieveTodos()}},{key:"render",value:function(){var e=this.props,t=e.todos,n=e.updateTodo;return o.a.createElement(S.a,{variant:"flush"},t.map((function(e){return o.a.createElement(v,Object.assign({key:e.id},e,{onClick:function(){return n(e.id)}}))})))}}]),t}(o.a.Component),b=function(e,t){switch(t){case"SHOW_ALL":return e;case"SHOW_COMPLETED":return e.filter((function(e){return e.completed}));case"SHOW_ACTIVE":return e.filter((function(e){return!e.completed}));default:return e}},_=Object(c.b)((function(e){return{todos:b(e.todos.todos,e.visibilityFilter)}}),(function(e){return{createTodo:function(t){e(E(t))},retrieveTodos:function(){e((function(e){return e({type:"REQUEST_TODOS"}),fetch("https://intense-refuge-66191.herokuapp.com/retrieve-todos").then((function(e){return e.json()})).then((function(t){return e({type:"RECEIVE_TODOS",todos:t})}))}))},updateTodo:function(t){e(function(e){return function(t){return t(function(e){return{type:"REQUEST_UPDATE_TODO",id:e}}(e)),fetch("https://intense-refuge-66191.herokuapp.com/update-todo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"RECEIVE_UPDATE_TODO_SUCCESS",id:e}}(e.id))}))}}(t))}}}))(C);var j="SHOW_ALL",y="SHOW_COMPLETED",g="SHOW_ACTIVE",D=function(e){var t=e.active,n=e.children,r=e.onClick;return t?o.a.createElement("span",null,n):o.a.createElement("a",{href:"#somelink",onClick:function(e){e.preventDefault(),r()}},n)},I=Object(c.b)((function(e,t){return{active:t.filter===e.setVisibilityFilter}}),(function(e,t){return{onClick:function(){e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}}))(D),R=function(){return o.a.createElement("p",{className:"small"},"Show: ",o.a.createElement(I,{filter:j},"All")," / ",o.a.createElement(I,{filter:g},"Active")," / ",o.a.createElement(I,{filter:y},"Completed"))},A=function(){return o.a.createElement(i.a,null,o.a.createElement(u.a,{className:"mt-5"},o.a.createElement(f,null)),o.a.createElement(u.a,{className:"my-2"},o.a.createElement(R,null)),o.a.createElement(u.a,null,o.a.createElement(_,null)))},k=n(9),U=n(29),F=n(30),L=n(32),V=n(7),P={isFetching:!1,todos:[]};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CREATE_TODO":return Object(V.a)({},e,{isFetching:!0});case"RECEIVE_CREATE_TODO_SUCCESS":return Object(V.a)({},e,{isFetching:!1,todos:[].concat(Object(L.a)(e.todos),[{id:t.todoCreated.id,value:t.todoCreated.value,completed:t.todoCreated.completed}])});case"REQUEST_TODOS":return Object(V.a)({},e,{isFetching:!0});case"RECEIVE_TODOS":return Object(V.a)({},e,{isFetching:!1,todos:t.todos});case"REQUEST_UPDATE_TODO":return Object(V.a)({},e,{todos:e.todos.map((function(e){return e.id===t.id?Object(V.a)({},e,{isFetching:!0}):e}))});case"RECEIVE_UPDATE_TODO_SUCCESS":return Object(V.a)({},e,{todos:e.todos.map((function(e){return e.id===t.id?Object(V.a)({},e,{isFetching:!1,completed:!e.completed}):e}))});default:return e}},H=j;var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},Q=Object(k.c)({todos:w,visibilityFilter:N}),W=Object(F.createLogger)(),J=Object(k.d)(Q,Object(k.a)(U.a,W));Object(a.render)(o.a.createElement(c.a,{store:J},o.a.createElement(A,null)),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3a867829.chunk.js.map