(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{21:function(e,t,n){e.exports=n(30)},30:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),c=n(6),i=n(3);var u="SHOW_ALL",a="SHOW_COMPLETED",l="SHOW_ACTIVE",d=function(e){var t=e.active,n=e.children,r=e.onClick;return t?o.a.createElement("span",null,n):o.a.createElement("a",{href:"#somelink",onClick:function(e){e.preventDefault(),r()}},n)},s=Object(i.b)((function(e,t){return{active:t.filter===e.setVisibilityFilter}}),(function(e,t){return{onClick:function(){e({type:"SET_VISIBILITY_FILTER",filter:t.filter})}}}))(d),E=function(){return o.a.createElement("p",null,"Show: ",o.a.createElement(s,{filter:u},"All"),", ",o.a.createElement(s,{filter:l},"Active"),", ",o.a.createElement(s,{filter:a},"Completed"))},f=function(e){return function(t){return t(function(e){return{type:"REQUEST_CREATE_TODO",value:e}}(e)),fetch("https://intense-refuge-66191.herokuapp.com/create-todo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({value:e})}).then((function(e){return console.log(e),e.json()})).then((function(e){return console.log(e),t({type:"RECEIVE_CREATE_TODO_SUCCESS",todoCreated:e})}))}},p=Object(i.b)()((function(e){var t,n=e.dispatch;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t.value.trim()&&(n(f(t.value)),t.value="")}},o.a.createElement("input",{ref:function(e){t=e}}),o.a.createElement("button",{type:"submit"},"Add Todo")))})),O=n(13),h=n(14),T=n(19),m=n(15),S=n(20),b=function(e){var t=e.onClick,n=e.completed,r=e.value;return o.a.createElement("li",{onClick:t,style:{textDecoration:n?"line-through":"none"}},r)},v=function(e){function t(){return Object(O.a)(this,t),Object(T.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.retrieveTodos()}},{key:"render",value:function(){var e=this.props,t=e.todos,n=e.updateTodo;return o.a.createElement("ul",null,t.map((function(e){return o.a.createElement(b,Object.assign({key:e.id},e,{onClick:function(){return n(e.id)}}))})))}}]),t}(o.a.Component),C=function(e,t){switch(t){case"SHOW_ALL":return e;case"SHOW_COMPLETED":return e.filter((function(e){return e.completed}));case"SHOW_ACTIVE":return e.filter((function(e){return!e.completed}));default:return e}},_=Object(i.b)((function(e){return{todos:C(e.todos.todos,e.visibilityFilter)}}),(function(e){return{createTodo:function(t){e(f(t))},retrieveTodos:function(){e((function(e){return e({type:"REQUEST_TODOS"}),fetch("https://intense-refuge-66191.herokuapp.com/retrieve-todos").then((function(e){return e.json()})).then((function(t){return e({type:"RECEIVE_TODOS",todos:t})}))}))},updateTodo:function(t){e(function(e){return function(t){return t(function(e){return{type:"REQUEST_UPDATE_TODO",id:e}}(e)),fetch("https://intense-refuge-66191.herokuapp.com/update-todo",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){return e.json()})).then((function(e){return t(function(e){return{type:"RECEIVE_UPDATE_TODO_SUCCESS",id:e}}(e.id))}))}}(t))}}}))(v),j=function(){return o.a.createElement("div",null,o.a.createElement(p,null),o.a.createElement(_,null),o.a.createElement(E,null))},y=n(4),g=n(16),D=n(17),I=n(18),R=n(2),k={isFetching:!1,todos:[]};var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_CREATE_TODO":return Object(R.a)({},e,{isFetching:!0});case"RECEIVE_CREATE_TODO_SUCCESS":return Object(R.a)({},e,{isFetching:!1,todos:[].concat(Object(I.a)(e.todos),[{id:t.todoCreated.id,value:t.todoCreated.value,completed:t.todoCreated.completed}])});case"REQUEST_TODOS":return Object(R.a)({},e,{isFetching:!0});case"RECEIVE_TODOS":return Object(R.a)({},e,{isFetching:!1,todos:t.todos});case"REQUEST_UPDATE_TODO":return Object(R.a)({},e,{todos:e.todos.map((function(e){return e.id===t.id?Object(R.a)({},e,{isFetching:!0}):e}))});case"RECEIVE_UPDATE_TODO_SUCCESS":return Object(R.a)({},e,{todos:e.todos.map((function(e){return e.id===t.id?Object(R.a)({},e,{isFetching:!1,completed:!e.completed}):e}))});default:return e}},U=u;var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},L=Object(y.c)({todos:A,visibilityFilter:F}),V=Object(D.createLogger)(),P=Object(y.d)(L,Object(y.a)(g.a,V));Object(c.render)(o.a.createElement(i.a,{store:P},o.a.createElement(j,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.03d9c7de.chunk.js.map